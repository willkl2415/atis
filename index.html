<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ATIS ‚Äì Lesson Feedback Coach</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    label {
      font-weight: bold;
    }
    select, textarea, button {
      width: 100%;
      margin-bottom: 15px;
      padding: 10px;
      font-size: 16px;
    }
    button {
      background-color: #2d6cdf;
      color: white;
      border: none;
      cursor: pointer;
    }
    button:hover {
      background-color: #1f4fbf;
    }
    .response-box {
      background-color: #e3f2fd;
      padding: 15px;
      border-radius: 8px;
      margin-top: 20px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <h1>ATIS ‚Äì Lesson Feedback Coach</h1>

  <label for="sector">Select Industry Sector:</label>
  <select id="sector">
    <option>Education</option>
    <option>Training</option>
    <option>Healthcare</option>
    <option>Retail</option>
    <option>Manufacturing</option>
    <option>Defence</option>
  </select>

  <label for="role">Select Role:</label>
  <select id="role">
    <option>New Teacher</option>
    <option>Trainer</option>
    <option>Team Leader</option>
    <option>Support Staff</option>
  </select>

  <label for="situation">Describe a recent session or situation in your role. What happened? What did you say or do?</label>
  <textarea id="situation" rows="5" placeholder="Type your classroom or training moment here..."></textarea>

  <button onclick="generateFeedback()">Get Feedback</button>

  <div id="response" class="response-box"></div>

  <script>
    function generateFeedback() {
      const sector = document.getElementById('sector').value;
      const role = document.getElementById('role').value;
      const situation = document.getElementById('situation').value.trim().toLowerCase();
      const responseBox = document.getElementById('response');

      let feedback = `üèÖ Selected Sector: ${sector}\nüßë‚Äçüè´ Selected Role: ${role}\n\n`;

      // üîç Safeguarding Trigger Check
      if (situation.includes("swore") || situation.includes("lost control") || situation.includes("shouted at")) {
        feedback += "üî¥ A serious classroom incident was reported involving loss of control. While emotional responses are human, swearing or losing composure in front of students breaks professional boundaries.\n\n";
        feedback += "You‚Äôve already taken the first step by recognising the issue. Reflect on what led to that moment and consider:\n- Speaking with your line manager or safeguarding lead\n- Using classroom management resets like silence, proximity, or structured pauses\n- Offering an apology to rebuild trust if appropriate\n\n";
        feedback += "Taking responsibility and seeking help is a sign of strength. Would you like to simulate this again with a better outcome?";
        responseBox.innerText = feedback;
        return;
      }

      // üü† Emotional Check
      if (situation.includes("frustrated") || situation.includes("overwhelmed") || situation.includes("nobody responded")) {
        feedback += "üü† You reported feeling emotionally affected by the moment. This is common, especially in the early stages of your role.\n\n";
        feedback += "You might try:\n- Asking simpler or more direct questions\n- Modelling an answer first to reduce pressure\n- Doing a short well-being check-in for yourself afterwards\n\n";
        feedback += "Would you like to simulate a calmer moment or view tips on re-engagement?";
        responseBox.innerText = feedback;
        return;
      }

      // üü° Mild Disruption
      if (situation.includes("chatting") || situation.includes("talking") || situation.includes("ignored") || situation.includes("blank stares")) {
        feedback += "üü° Mild disruption or disengagement detected. This could be caused by unclear expectations, timing, or group energy.\n\n";
        feedback += "Suggestions:\n- Use non-verbal resets like silence or eye contact\n- Ask 'turn and talk' style questions to restart dialogue\n- Praise group effort, not individuals, to maintain balance\n\n";
        feedback += "Would you like to simulate a group praise moment or neutralise chatty energy?";
        responseBox.innerText = feedback;
        return;
      }

      // üü¢ Calm / Neutral
      if (situation.includes("no issues") || situation.includes("everyone was focused") || situation.includes("clean run")) {
        feedback += "üü¢ Calm moment detected. A successful session like this is a chance to add extra depth or try stretch techniques.\n\n";
        feedback += "Ideas:\n- Use success to try new questioning formats\n- Experiment with peer feedback or open-ended questions\n- Reflect on what made it go well ‚Äî time of day, routine, setup?\n\n";
        feedback += "Would you like to log this as a best practice scenario or simulate a challenge next time?";
        responseBox.innerText = feedback;
        return;
      }

      // Default Guidance
      feedback += "üü° Feedback: I couldn't match this to a known situation. Try:\n- Rewriting with clearer actions\n- Including emotional terms or specific phrases\n\n";
      feedback += "Would you like to rephrase or simulate a known classroom challenge?";
      responseBox.innerText = feedback;
    }
  </script>
</body>
</html>
